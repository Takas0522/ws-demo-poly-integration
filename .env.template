# ==============================================================================
# SaaS Management Application - Environment Configuration Template
# ==============================================================================
# Copy this file to .env and fill in your values
# This file serves as a template for all environment variables used across services

# ==============================================================================
# ENVIRONMENT SETTINGS
# ==============================================================================
# Environment: development, staging, production
NODE_ENV=development

# ==============================================================================
# COSMOSDB CONFIGURATION
# ==============================================================================
# CosmosDB Emulator (for local development)
COSMOSDB_ENDPOINT=https://localhost:8081
COSMOSDB_KEY=C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==
COSMOSDB_DATABASE=saas-management

# CosmosDB Connection Settings
COSMOSDB_MAX_RETRY_ATTEMPTS=3
COSMOSDB_RETRY_INTERVAL_MS=1000

# ==============================================================================
# JWT AUTHENTICATION CONFIGURATION
# ==============================================================================
# SECURITY WARNING: Change these values in production!
# Generate a secure secret: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ==============================================================================
# SERVICE PORTS
# ==============================================================================
# Frontend Application
FRONTEND_PORT=3000
FRONTEND_URL=http://localhost:3000

# Auth Service
AUTH_SERVICE_PORT=3001
AUTH_SERVICE_URL=http://localhost:3001

# User Management Service
USER_MANAGEMENT_SERVICE_PORT=3002
USER_MANAGEMENT_SERVICE_URL=http://localhost:3002

# Service Settings Service
SERVICE_SETTINGS_SERVICE_PORT=3003
SERVICE_SETTINGS_SERVICE_URL=http://localhost:3003

# ==============================================================================
# FEATURE FLAGS - BUTTON-LEVEL AUTHORIZATION CONTROLS
# ==============================================================================
# Enable/disable features across the application
# Values: enabled, disabled

# User Management Features
FEATURE_USER_CREATE=enabled
FEATURE_USER_EDIT=enabled
FEATURE_USER_DELETE=enabled
FEATURE_USER_ROLE_ASSIGN=enabled

# Service Settings Features
FEATURE_SERVICE_CREATE=enabled
FEATURE_SERVICE_EDIT=enabled
FEATURE_SERVICE_DELETE=enabled

# Authentication Features
FEATURE_PASSWORD_RESET=enabled
FEATURE_EMAIL_VERIFICATION=enabled
FEATURE_TWO_FACTOR_AUTH=disabled

# Advanced Features (typically disabled in development)
FEATURE_ANALYTICS=disabled
FEATURE_AUDIT_LOGGING=enabled
FEATURE_RATE_LIMITING=disabled

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Enable structured logging (JSON format)
LOG_FORMAT=json

# Log to file (leave empty to disable file logging)
LOG_FILE_PATH=

# ==============================================================================
# CORS CONFIGURATION
# ==============================================================================
# Allowed origins (comma-separated for multiple origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ==============================================================================
# API RATE LIMITING (when enabled via feature flag)
# ==============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================================================
# AZURE APP SERVICE SETTINGS (for staging and production)
# ==============================================================================
# These should be configured in Azure App Service Configuration
# Not typically used in local development

# Azure Application Insights (leave empty to disable)
APPINSIGHTS_INSTRUMENTATIONKEY=

# Azure Storage Connection String (for file uploads, if needed)
AZURE_STORAGE_CONNECTION_STRING=

# ==============================================================================
# TENANT CONFIGURATION
# ==============================================================================
# Default tenant for development
DEFAULT_TENANT_ID=default-tenant

# ==============================================================================
# SECURITY SETTINGS
# ==============================================================================
# Password requirements
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL_CHARS=true

# Session settings
SESSION_TIMEOUT_MINUTES=30
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# ==============================================================================
# DEVELOPMENT TOOLS
# ==============================================================================
# Enable API documentation (Swagger/OpenAPI)
ENABLE_API_DOCS=true

# Enable detailed error messages (disable in production)
ENABLE_DETAILED_ERRORS=true

# Enable request/response logging
ENABLE_REQUEST_LOGGING=true

# ==============================================================================
# NOTES
# ==============================================================================
# 1. Never commit actual .env files to version control
# 2. Keep this template updated when adding new environment variables
# 3. Use Azure App Service Configuration for production secrets
# 4. For local development with CosmosDB Emulator, use the provided defaults
# 5. Generate strong JWT secrets for staging and production environments
